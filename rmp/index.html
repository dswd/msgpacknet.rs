<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="rustdoc">
    <meta name="description" content="API documentation for the Rust `rmp` crate.">
    <meta name="keywords" content="rust, rustlang, rust-lang, rmp">

    <title>rmp - Rust</title>

    <link rel="stylesheet" type="text/css" href="../main.css">

    
    
</head>
<body class="rustdoc">
    <!--[if lte IE 8]>
    <div class="warning">
        This old browser is unsupported and will most likely display funky
        things.
    </div>
    <![endif]-->

    

    <nav class="sidebar">
        
        <p class='location'></p><script>window.sidebarCurrent = {name: 'rmp', ty: 'mod', relpath: '../'};</script>
    </nav>

    <nav class="sub">
        <form class="search-form js-only">
            <div class="search-container">
                <input class="search-input" name="search"
                       autocomplete="off"
                       placeholder="Click or press ‘S’ to search, ‘?’ for more options…"
                       type="search">
            </div>
        </form>
    </nav>

    <section id='main' class="content mod">
<h1 class='fqn'><span class='in-band'>Crate <a class='mod' href=''>rmp</a></span><span class='out-of-band'><span id='render-detail'>
            <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">
                [<span class='inner'>&#x2212;</span>]
            </a>
        </span><a id='src-0' class='srclink' href='../src/rmp/lib.rs.html#1-121' title='goto source code'>[src]</a></span></h1>
<div class='docblock'>
<h1 id="the-rust-messagepack-library" class='section-header'><a
                           href="#the-rust-messagepack-library">The Rust MessagePack Library</a></h1>
<p>RMP is a pure Rust <a href="http://msgpack.org">MessagePack</a> implementation.</p>

<p>MessagePack is an efficient binary serialization format.</p>

<p><strong>Warning</strong> this library is still in rapid development and everything may change until 1.0 comes.</p>

<h2 id="usage" class='section-header'><a
                           href="#usage">Usage</a></h2>
<p>To use <code>rmp</code>, first add this to your <code>Cargo.toml</code>:</p>

<pre><code class="language-toml">[dependencies.rmp]
rmp = &quot;^0.7&quot;
</code></pre>

<p>Then, add this to your crate root:</p>
<pre class='rust rust-example-rendered'>
<span class='kw'>extern</span> <span class='kw'>crate</span> <span class='ident'>rmp</span> <span class='kw'>as</span> <span class='ident'>msgpack</span>; <span class='comment'>// Or just `rmp`.</span></pre>

<h2 id="features" class='section-header'><a
                           href="#features">Features</a></h2>
<ul>
<li><p><strong>Convenient API</strong></p>

<p>RMP is designed to be lightweight and straightforward. There are low-level API, which gives you
full control on data encoding/decoding process and makes no heap allocations. On the other hand
there are high-level API, which provides you convenient interface using Rust standard library and
compiler reflection, allowing to encode/decode structures using <code>derive</code> attribute.</p></li>
<li><p><strong>Zero-copy value decoding</strong></p>

<p>RMP allows to decode bytes from a buffer in a zero-copy manner easily and blazingly fast, while Rust
static checks guarantees that the data will be valid until buffer lives.</p></li>
<li><p><strong>Clear error handling</strong></p>

<p>RMP&#39;s error system guarantees that you never receive an error enum with unreachable variant.</p></li>
<li><p><strong>Robust and tested</strong></p>

<p>This project is developed using TDD and CI, so any found bugs will be fixed without breaking
existing functionality.</p></li>
</ul>

<h2 id="detailed" class='section-header'><a
                           href="#detailed">Detailed</a></h2>
<p>Данный крейт предоставляет самую базовую функциональность, необходимую для работы с MessagePack.
Он идеологически задуман как фундамент для построение более высокоуровненных абстракций,
облегчающих рутинную работу (например, см. <code>rmp-serde</code> crate).</p>

<p>Он состоит из трех больших модулей: encode, decode и value. Более детально о каждом из них
написано в соответствующем разделе.</p>

<p>В двух словах MessagePack формат состоит из некого маркера, которая инкапсулирует тип данных и,
собственно, значения. Иногда отдельного значения может не быть, в этом случае оно явно или
неявно закодировано в самом маркере.</p>

<p>Также одно и то же значение может быть представлено в различном виде.
Например, значение <code>true</code> декодируется как <code>0xc3</code>, а вот значение <code>42</code> может быть представлено
по-разному: <code>[0x2a]</code>, <code>[0xcc, 0x2a]</code>, <code>[0xcd, 0x00, 0x2a]</code> и тд.</p>

<p>RMP гарантирует, что в случае сериализации будет выбран наиболее экономное представление. В то
же время гарантируется, что в случае десериализации будет возможно получить исходное значение
независимо от того, какую запись выбрал источник.</p>

<h4 id="api" class='section-header'><a
                           href="#api">API</a></h4>
<p>Практически все API представляют собой чистые функции. В качестве альтернативы можно было бы
расширить трейты Write и Read, но это не было сделано специально, чтобы не захламлять
пространство методов. Например, в одном и том же модуле могут использоваться энкодеры в json и
msgpack, в таком случае наличие метода write_u8 выглядело бы странным, а наличие
write_msgpack_u8 - уродливым.</p>

<h4 id="performance" class='section-header'><a
                           href="#performance">Performance</a></h4>
<p>Этот крейт предоставляет настолько низкий уровено абстракции, насколько это возможно, поэтому
производительность является основной целью. Любое улучшение производительности тщательно
анализируется при помощи бенчмарков, благо Rust предоставляет достаточно удобные инструменты для
этого.</p>

<p>Однако на текущий момент специально не было проведено никаких оптимизаций, так что этот код
может (и будет) работать быстрее. Не стесняйтесь - тестируйте и присылайте ваши оптимизации.</p>

<h4 id="error-handling" class='section-header'><a
                           href="#error-handling">Error handling</a></h4>
<p>Меня всегда расстраивал код, в котором приходится делать <code>unreachable!()</code> в случае обработок
ошибок, поэтому RMP гарантирует, что будет возвращен только тот вариант, в котором все ошибки
могут произойти.</p>
</div><h2 id='reexports' class='section-header'><a href="#reexports">Reexports</a></h2>
<table><tr><td><code>pub use value::{<a class='enum' href='../rmp/value/enum.Value.html' title='rmp::value::Value'>Value</a>, <a class='enum' href='../rmp/value/enum.ValueRef.html' title='rmp::value::ValueRef'>ValueRef</a>};</code></td></tr></table><h2 id='modules' class='section-header'><a href="#modules">Modules</a></h2>
<table>
                    <tr class=' module-item'>
                        <td><a class='mod' href='decode/index.html'
                               title='rmp::decode'>decode</a></td>
                        <td class='docblock short'>
                             <p>Provides various functions and structs for MessagePack decoding.</p>

                        </td>
                    </tr>
                
                    <tr class=' module-item'>
                        <td><a class='mod' href='encode/index.html'
                               title='rmp::encode'>encode</a></td>
                        <td class='docblock short'>
                             <p>Provides various functions and structs for MessagePack encoding.</p>

                        </td>
                    </tr>
                
                    <tr class=' module-item'>
                        <td><a class='mod' href='value/index.html'
                               title='rmp::value'>value</a></td>
                        <td class='docblock short'>
                             <p>Contains Value and ValueRef structs and its conversion traits.</p>

                        </td>
                    </tr>
                </table><h2 id='enums' class='section-header'><a href="#enums">Enums</a></h2>
<table>
                    <tr class=' module-item'>
                        <td><a class='enum' href='enum.Marker.html'
                               title='rmp::Marker'>Marker</a></td>
                        <td class='docblock short'>
                             
                        </td>
                    </tr>
                </table><h2 id='constants' class='section-header'><a href="#constants">Constants</a></h2>
<table>
                    <tr class=' module-item'>
                        <td><a class='constant' href='constant.MSGPACK_VERSION.html'
                               title='rmp::MSGPACK_VERSION'>MSGPACK_VERSION</a></td>
                        <td class='docblock short'>
                             
                        </td>
                    </tr>
                </table></section>
    <section id='search' class="content hidden"></section>

    <section class="footer"></section>

    <aside id="help" class="hidden">
        <div>
            <h1 class="hidden">Help</h1>

            <div class="shortcuts">
                <h2>Keyboard Shortcuts</h2>

                <dl>
                    <dt>?</dt>
                    <dd>Show this help dialog</dd>
                    <dt>S</dt>
                    <dd>Focus the search field</dd>
                    <dt>&larrb;</dt>
                    <dd>Move up in search results</dd>
                    <dt>&rarrb;</dt>
                    <dd>Move down in search results</dd>
                    <dt>&#9166;</dt>
                    <dd>Go to active search result</dd>
                </dl>
            </div>

            <div class="infos">
                <h2>Search Tricks</h2>

                <p>
                    Prefix searches with a type followed by a colon (e.g.
                    <code>fn:</code>) to restrict the search to a given type.
                </p>

                <p>
                    Accepted types are: <code>fn</code>, <code>mod</code>,
                    <code>struct</code>, <code>enum</code>,
                    <code>trait</code>, <code>type</code>, <code>macro</code>,
                    and <code>const</code>.
                </p>

                <p>
                    Search functions by type signature (e.g.
                    <code>vec -> usize</code>)
                </p>
            </div>
        </div>
    </aside>

    

    <script>
        window.rootPath = "../";
        window.currentCrate = "rmp";
        window.playgroundUrl = "";
    </script>
    <script src="../jquery.js"></script>
    <script src="../main.js"></script>
    
    <script async src="../search-index.js"></script>
</body>
</html>